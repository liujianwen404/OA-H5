{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Documents/HBuilderProjects/oa-app/pages/sign/sign.vue?8175","webpack:///D:/Documents/HBuilderProjects/oa-app/pages/sign/sign.vue?e8e4","webpack:///D:/Documents/HBuilderProjects/oa-app/pages/sign/sign.vue?b192","webpack:///D:/Documents/HBuilderProjects/oa-app/pages/sign/sign.vue?4e0b","uni-app:///pages/sign/sign.vue","webpack:///D:/Documents/HBuilderProjects/oa-app/pages/sign/sign.vue?4750","webpack:///D:/Documents/HBuilderProjects/oa-app/pages/sign/sign.vue?2f79"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,yF;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACa;;;AAGhE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,+PAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAA8lB,CAAgB,wnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwDlnB;AACA,4D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;mZAEA,EACA,yCADA,EAEA,IAFA,kBAEA,CACA,SACA,YADA,EAEA,QAFA,EAGA,YAHA,EAGA;AACA,kBAJA,EAIA;AACA,mBALA,EAKA;AACA,UANA,EAMA;AACA,iBAPA,EAOA;AACA,iBARA,EAQA;AACA,kBATA,EASA;AACA,mBAVA,EAUA;AACA,kBAXA,EAYA,eAZA,EAYA;AACA,yDAbA,EAaA;AACA,yGAdA,EAcA;AACA,eACA;AACA,0IAFA,CAfA,EAmBA,UACA;AACA,+FAFA,CAnBA,EAuBA,WACA;AACA,oIAFA,CAvBA,EA2BA,eA3BA,EA4BA,gBACA,iKADA,GA5BA,EA+BA,gBACA,iKADA,IAGA,EACA,iHADA,EAHA,CA/BA,EAsCA,UAtCA,EAuCA,WAvCA,GA0CA,CA7CA,EA8CA,MA9CA,kBA8CA,OA9CA,EA8CA,CACA;AACA;AACA;AACA;AAEA,yBACA,iDACA,sEACA,yEACA,iDACA,6BACA,yBACA,eACA,mBACA,CA7DA,EA+DA,WACA;AACA,WAFA,qBAEA,CACA,gBACA,mFACA,cACA,QADA,EAEA,QACA,mBADA,EAFA;AAKA,eALA,mBAKA,GALA,EAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WANA,MAMA;AACA;AACA;AACA,2BADA;AAEA,0BAFA;AAGA,gCAHA;AAIA,+BAJA;AAKA;AACA;AACA,eAPA;;AASA;;AAEA,SA1BA;;AA4BA,KAjCA;;AAmCA;AACA,WApCA,qBAoCA;AACA;AACA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KAzCA;AA0CA;AACA,aA3CA,uBA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,EAGA,IAHA;AAIA,KApDA;AAqDA;AACA,UAtDA,oBAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBADA;AAEA,eAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAbA;;AAeA,KA9EA;AA+EA;AACA,cAhFA,sBAgFA,CAhFA,EAgFA;AACA;AACA,KAlFA;AAmFA;AACA,eApFA,yBAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA,EACA;AACA,eAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA,SA5BA;AA6BA,YA7BA,gBA6BA,GA7BA,EA6BA;AACA;AACA;AACA;AACA,SAjCA;;AAmCA,KAjIA;AAkIA;AACA,gBAnIA,0BAmIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAVA;;AAYA,KAjJA;;AAmJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAhKA,yBAgKA,CAhKA,EAgKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5KA,GA/DA,E;;;;;;;;;;;;;AC3DA;AAAA;AAAA;AAAA;AAAg3B,CAAgB,i3BAAG,EAAC,C;;;;;;;;;;;ACAp4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/sign/sign.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/sign/sign.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./sign.vue?vue&type=template&id=10dbb326&\"\nvar renderjs\nimport script from \"./sign.vue?vue&type=script&lang=js&\"\nexport * from \"./sign.vue?vue&type=script&lang=js&\"\nimport style0 from \"./sign.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/sign/sign.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sign.vue?vue&type=template&id=10dbb326&\"","var components = {\n  sunuiUpimg: function() {\n    return import(\n      /* webpackChunkName: \"components/sunui-upimg/sunui-upimg\" */ \"@/components/sunui-upimg/sunui-upimg.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sign.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sign.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"content sign2\">\r\n\t\t<view class=\"page-body\">\r\n\t        <view class=\"page-section page-section-gap\">\r\n\t            <map \r\n\t\t\t\t\tclass=\"map\"  \r\n\t\t\t\t\t@callouttap \r\n\t\t\t\t\t@controltap=\"controltap\"\r\n\t\t\t\t\t:scale=\"scale\"  \r\n\t\t\t\t\t:controls=\"controls\"\r\n\t\t\t\t\t:latitude=\"latitude\" \r\n\t\t\t\t\t:longitude=\"longitude\" \r\n\t\t\t\t\t:circles=\"circles\" \r\n\t\t\t\t\t:markers=\"covers\" \r\n\t\t\t\t/>\r\n\t        </view>\r\n\t\t\t<view class=\"text-info\">\r\n\t\t\t\t<view class=\"inputV\" style=\"display: flex;justify-content: space-between;\">\r\n\t\t\t\t\t<view>我的位置 （<text :class=\"isTrue ? 'colorBlue' : 'colorRed'\">{{signstate}}</text> ）</view>\r\n\t\t\t\t\t<view>精确度:{{accuracy}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"inputV\">\r\n\t\t\t\t\t<view class=\"t\">当前位置</view>\r\n\t\t\t\t\t<view class=\"text\" @click=\"openLocation\">{{address}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"inputV\">\r\n\t\t\t\t\t<view class=\"t\">备注</view>\r\n\t\t\t\t\t<input class=\"text\" type=\"text\" v-model=\"remarks\" placeholder=\"选填备注\">\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"inputV\">\r\n\t\t\t\t\t<view class=\"t\">上传图片</view>\r\n\t\t\t\t\t<view class=\"index-page\">\r\n\t\t\t\t\t\t<sunui-upimg @change=\"getImageInfo1\" :upload_auto=\"true\" ref=\"upimg1\" :upload_count=\"3\"></sunui-upimg>\r\n\t\t\t\t\t\t<!-- <sunui-upimg @change=\"getImageInfo2\" :upload_auto=\"true\" ref=\"upimg2\" :upimg_preview=\"serviceArr2\" :upload_count=\"3\"></sunui-upimg> -->\r\n\t\t\t\t\t\t<!-- 可能有的时候只是从服务器获取图片，禁用删除图片! -->\r\n\t\t\t\t\t\t<!-- <sunui-upimg @change=\"getImageInfo3\" :upload_auto=\"true\" :upimg_preview=\"serviceArr3\" :upimg_move=\"false\" ref=\"upimg3\"></sunui-upimg> -->\r\n\t\t\t\t\t\t<!-- <sunui-upimg @change=\"getImageInfo4\" :upload_auto=\"true\" ref=\"upimg4\" :upimg_preview=\"serviceArr4\"></sunui-upimg> -->\r\n\t\t\t\t\t\t<!-- <ss-upload-image :url=\"url\" :file-list=\"fileList\" :name=\"name\" @on-success=\"onSuccess\" @on-error=\"\" @on-remove=\"onRemove\" @on-process=\"onProcess\" /> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"inputV\">\r\n\t\t\t\t\t<button \r\n\t\t\t\t\t\tstyle=\"color: white;\" \r\n\t\t\t\t\t\t:class=\"isTrue === true ? 'bgBlue' : isTrue === false ? 'bgGreen' : isTrue === null ? 'bgAsh' : ''\" \r\n\t\t\t\t\t\t@click=\"clickSign\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{time}} --- 保存并返回打卡\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\r\n\timport {handleSignClick,setSignInfo,addSignInfo,getSignInfo,delSignInfo,getInfo,key} from \"../index/index.js\";\r\n\timport {formateDate,pointInsideCircle,countRadius} from \"@/common/util.js\";\t//时间按格式化\r\n\timport sunUiUpimg from '@/components/sunui-upimg/sunui-upimg.vue';\r\n\texport default {\r\n\t\tcomponents: { 'sunui-upimg': sunUiUpimg },\r\n\t\tdata() {\n\t\t\treturn {\r\n\t\t\t\tuserId:null,\r\n\t\t\t\tname:\"\",\r\n\t\t\t\tisTrue:null,\t\t\t\t\t\t\t//是否在考勤范围内\r\n\t\t\t\tsignText:\"\",\t\t\t\t\t\t\t//打卡文字\r\n\t\t\t\tsignstate:\"\",\t\t\t\t\t\t\t//打卡状态\n\t\t\t\tr : 0,\t\t\t\t\t\t\t\t\t//半径\r\n\t\t\t\tscale:\"18\",\t\t\t\t\t\t\t\t//缩放\r\n\t\t\t\tclickNum:0,\t\t\t\t\t\t\t\t//点击重新获取位置信息次数\r\n\t\t\t\tlatitude: \"\",\t\t\t\t\t\t\t//当前经度\r\n\t\t\t\tlongitude: \"\",\t\t\t\t\t\t\t//当前维度\r\n\t\t\t\taccuracy:\"\",\r\n\t\t\t\taddress:\"我的位置\",\t\t\t\t\t\t//公司位置-名称\t\r\n\t\t\t\ttime:formateDate(new Date(),'h:min:s'),\t//当前时分秒\t\t\r\n\t\t\t\tsignInfo:{mode:\"\", latitude:\"\",longitude:\"\",address:\"\",time:\"\",remarks:\"\",upload:\"\"},\t//打卡信息 （模式，经纬度，地址，时间 备注 图片）\r\n\t\t\t\tcovers: [\r\n\t\t\t\t\t// 公司点信息\r\n\t\t\t\t\t{id:0,callout:{content:null,display:\"ALWAYS\",},latitude:null,longitude:null,iconPath: '../../static/img/location.png'},\r\n\t\t\t\t],\r\n\t\t\t\tcircles:[\r\n\t\t\t\t\t// 公司圆信息\r\n\t\t\t\t\t{latitude:null,longitude:null ,radius:null,strokeWidth:1,fillColor:\"#7fff0099\"},\r\n\t\t\t\t],\r\n\t\t\t\tcontrols:[\r\n\t\t\t\t\t// 控件\r\n\t\t\t\t\t{id:0,position:{left:300,top:300,width:32,height:32},iconPath:\"../../static/img/resetlo.png\",clickable:true}\r\n\t\t\t\t],\r\n\t\t\t\tserviceArr2: [],\r\n\t\t\t\tserviceArr3: [{\r\n\t\t\t\t\tpath: 'https://dss0.bdstatic.com/6Ox1bjeh1BF3odCf/it/u=1537304011,3995405403&fm=74&app=80&f=JPEG&size=f121,140?sec=1880279984&t=97b7ba208086526f1a92f5294f1a68a3'\r\n\t\t\t\t}],\r\n\t\t\t\tserviceArr4: [{\r\n\t\t\t\t\t\tpath: 'https://dss0.bdstatic.com/6Ox1bjeh1BF3odCf/it/u=1537304011,3995405403&fm=74&app=80&f=JPEG&size=f121,140?sec=1880279984&t=97b7ba208086526f1a92f5294f1a68a3'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpath: 'https://dss0.baidu.com/73t1bjeh1BF3odCf/it/u=63785387,1979900985&fm=85&s=8015CD304A92909C8F80B180030030EB'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\timgURL: [],\r\n\t\t\t\tremarks:\"\",\r\n\t\t\t\t\n\t\t\t}\n\t\t},\r\n\t\tonLoad(options){\r\n\t\t\t// 数据更新不及时时可以在下次DOM更新时使用\r\n\t\t\t// this.$nextTick(function(){\r\n\t\t\t// \tthis.getInfo();\r\n\t\t\t// })\r\n\t\t\t\r\n\t\t\tconsole.log(options);\r\n\t\t\tthis.covers[0].callout.content = options.address;\r\n\t\t\tthis.covers[0].latitude = this.circles[0].latitude = options.latitude;\r\n\t\t\tthis.covers[0].longitude = this.circles[0].longitude = options.longitude;\r\n\t\t\tthis.r = this.circles[0].radius = options.radius;\r\n\t\t\tthis.userId = options.userId;\r\n\t\t\tthis.name = options.name;\r\n\t\t\tthis.getTime()\r\n\t\t\tthis.getLocation()\r\n\t\t},\r\n\t\t\n\t\tmethods: {\r\n\t\t\t// 初始化数据  （公司的经纬度 公司名称 打卡范围 打卡时间）\r\n\t\t\tgetData(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar url = `http://192.168.10.25:2003/webApi/attendance/getAttendanceGroupAndClass`;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t    userId: this.userId\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res){\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\tif(res.data.code == 0){\r\n\t\t\t\t\t\t\tlet data = res.data.data;\r\n\t\t\t\t\t\t\tthat.covers[0].callout.content = data.address;\r\n\t\t\t\t\t\t\tthat.covers[0].latitude = that.circles[0].latitude = data.latitude;\r\n\t\t\t\t\t\t\tthat.covers[0].longitude = that.circles[0].longitude = data.longitude;\r\n\t\t\t\t\t\t\tthat.r = that.circles[0].radius = data.scope;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tlet msg = res.data.msg;\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '系统提示',\r\n\t\t\t\t\t\t\t\tcontent: msg,\r\n\t\t\t\t\t\t\t\tposition:'center',\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\tsuccess: function(){\r\n\t\t\t\t\t\t\t\t\tuni.reLaunch({url:\"/pages/login/login\"})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 实时时间\r\n\t\t\tgetTime(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tsetInterval(function(){\r\n\t\t\t\t\tthat.time = formateDate(new Date(),'h:min:s')\r\n\t\t\t\t},1000)\r\n\t\t\t},\r\n\t\t\t// 点击返回\r\n\t\t\tclickSign(){\r\n\t\t\t\tvar userId = this.userId;\r\n\t\t\t\tvar userName = this.name;\r\n\t\t\t\tvar imgURL = this.imgURL;\r\n\t\t\t\tvar remarks = this.remarks;\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tuni.navigateTo({url:\"/pages/index/index?userId=\"+userId+\"&userName=\"+userName+\"&imgURL=\"+imgURL+\"&remarks=\"+remarks})\r\n\t\t\t\t},1000)\t\r\n\t\t\t},\r\n\t\t\t// 腾讯位置服务\r\n\t\t\tgetAdd(){\r\n\t\t\t\tif(this.isTrue === true){\r\n\t\t\t\t\tlet address = this.covers[0].callout.content;\r\n\t\t\t\t\tthis.address = address;\r\n\t\t\t\t\tthis.signInfo.address = address;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar url = `https://apis.map.qq.com/ws/geocoder/v1/?location=${that.latitude},${that.longitude}&key=${key}`;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tsuccess(res){\r\n\t\t\t\t\t\tvar data = res.data;\r\n\t\t\t\t\t\tif(data.status != 0){\r\n\t\t\t\t\t\t\tuni.showToast({title:data.message,icon:\"none\",position:'center'})\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(that.isTrue === false){\r\n\t\t\t\t\t\t\tlet address = res.data.result.address + res.data.result.formatted_addresses.recommend\r\n\t\t\t\t\t\t\tthat.address = address;\r\n\t\t\t\t\t\t\tthat.signInfo.address = address;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 重新获取位置\r\n\t\t\tcontroltap(e){\r\n\t\t\t\tthis.getLocation()\r\n\t\t\t},\n\t\t\t// 获取当前位置\r\n\t\t\tgetLocation(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(this.clickNum !== 0){\r\n\t\t\t\t\tuni.showLoading({title:\"获取中...\",mask:true})\r\n\t\t\t\t}\r\n\t\t\t\tif(this.clickNum >= 3){\r\n\t\t\t\t\tuni.showToast({title:\"请稍后尝试！\",icon:\"none\",mask:true,position:'center'});\r\n\t\t\t\t\treturn ;\r\n\t\t\t\t}\r\n\t\t\t\tthis.clickNum++;\r\n\t\t\t\tuni.getLocation({\r\n\t\t\t\t\ttype: 'gcj02', //返回可以用于uni.openLocation的经纬度\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tthat.accuracy = res.accuracy;\r\n\t\t\t\t\t\tthat.latitude = res.latitude;\r\n\t\t\t\t\t\tthat.longitude = res.longitude;\r\n\t\t\t\t\t\tthat.scale = 18;\r\n\t\t\t\t\t\t// console.log(res.latitude,\"---\",res.longitude)\r\n\t\t\t\t\t\tthat.covers[1] = {id:1,latitude:res.latitude,longitude : res.longitude,iconPath: '../../static/img/location.png'}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// var s = pointInsideCircle([that.latitude,that.longitude],[that.circles[0].latitude,that.circles[0].longitude],that.circles[0].radius);\r\n\t\t\t\t\t\tlet circlesLat = that.circles[0].latitude;\r\n\t\t\t\t\t\tlet circlesLon = that.circles[0].longitude;\r\n\t\t\t\t\t\tlet circlesRad = that.circles[0].radius;\r\n\t\t\t\t\t\tvar s = countRadius([that.latitude,that.longitude],[circlesLat,circlesLon],circlesRad);\r\n\t\t\t\t\t\tthat.isTrue = s;\r\n\t\t\t\t\t\tthat.signstate = s ? \"在考勤范围内\" : \"不在考勤范围内\";\r\n\t\t\t\t\t\tthat.signText = s ? \"正常打卡\" : \"外勤打卡\";\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthat.signInfo.latitude = res.latitude;\r\n\t\t\t\t\t\tthat.signInfo.longitude = res.longitude;\r\n\t\t\t\t\t\t// that.signInfo.address = that.address;\r\n\t\t\t\t\t\tthat.signInfo.mode = s ? \"正常打卡\" : \"外勤打卡\";\r\n\t\t\t\t\t\t// that.signInfo.time = formateDate(new Date,'Y-M-D h:min:s');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthat.getAdd()\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err){\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tthat.signText = \"请检查位置信息\";\r\n\t\t\t\t\t\tuni.showToast({title:\"请检查位置信息状态！\",icon:\"none\", mask:true,duration:1000,position:'center'})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\n\t\t\t// 选择地址\r\n\t\t\topenLocation(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.chooseLocation({\r\n\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\tthat.address = res.address;\r\n\t\t\t\t\t\tthat.signInfo.address = res.address;\r\n\t\t\t\t\t\t// 这里是有问题的 .返回的 res 中有经纬度，地址名  如果使用这个经纬度 就会存在问题，（当前位置和公司位置重合），所以不建议使用这个经纬度。\r\n\t\t\t\t\t\tvar s = pointInsideCircle([that.latitude,that.longitude],[that.circles[0].latitude,that.circles[0].longitude],that.circles[0].radius);\r\n\t\t\t\t\t\tthat.isTrue = s;\r\n\t\t\t\t\t\tthat.signstate = s ? \"在考勤范围内\" : \"不在考勤范围内\";\r\n\t\t\t\t\t\tthat.signText = s ? \"正常打卡\" : \"外勤打卡\";\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// async getInfo() {\r\n\t\t\t// \tawait uni.request({\r\n\t\t\t// \t\turl: 'http://www.pbdpw.com/info.php',\r\n\t\t\t// \t\tmethod: 'GET',\r\n\t\t\t// \t\tdata: {},\r\n\t\t\t// \t\tsuccess: res => {\r\n\t\t\t// \t\t\tif (res.data.status == 'ok') {\r\n\t\t\t// \t\t\t\tthis.serviceArr2 = res.data.data;\r\n\t\t\t// \t\t\t\tconsole.log('服务器返回值：', JSON.stringify(res.data.data))\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t}\r\n\t\t\t// \t});\r\n\t\t\t// },\r\n\t\t\tgetImageInfo1(e) {\r\n\t\t\t\tconsole.log('图片返回1：', e);\r\n\t\t\t\tthis.imgURL = e;\r\n\t\t\t},\r\n\t\t\t// getImageInfo2(e) {\r\n\t\t\t// \tconsole.log('图片返回2：', e)\r\n\t\t\t// },\r\n\t\t\t// getImageInfo3(e) {\r\n\t\t\t// \tconsole.log('图片返回3：', e)\r\n\t\t\t// },\r\n\t\t\t// getImageInfo4(e) {\r\n\t\t\t// \tconsole.log('图片返回4：', e)\r\n\t\t\t// }\r\n\t\t\t\r\n\t\t}\n\t}\n</script>\n\n<style>\r\n\tuni-page-body{height: 100%;overflow: hidden;width:100%}\r\n\t.sign2{width: 100%;height: 100%;}\r\n\t/* #ifdef APP-PLUS */\r\n\t.sign2{height: 100vh;overflow: hidden;}\r\n\t/* #endif */\r\n\t/* #ifdef MP-WEIXIN */\r\n\t.sign2{height: 100vh;overflow: hidden;}\r\n\t/* #endif */\n\t.map{width: 100%; height: 350px;}\r\n\t.colorGreen{color: #32CD32;}\r\n\t.colorBlue{color:#007aff}\r\n\t.colorRed{color:red}\r\n\t.bgBlue{background-color: #007aff;}\r\n\t.bgGreen{background-color: #32CD32;}\r\n\t.bgAsh{background-color: #C8C7CC;}\r\n\t.inputV {padding:20upx}\r\n\t.inputV .t{font-size:36upx}\r\n\t.inputV .text{border-bottom:1px solid #000;width: 100%;color:#666;}\n</style>\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sign.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sign.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1596870462580\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}