{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Documents/HBuilderProjects/oa-app/pages/index/index.vue?f43c","webpack:///D:/Documents/HBuilderProjects/oa-app/pages/index/index.vue?dbc9","webpack:///D:/Documents/HBuilderProjects/oa-app/pages/index/index.vue?c8e4","webpack:///D:/Documents/HBuilderProjects/oa-app/pages/index/index.vue?c5ac","uni-app:///pages/index/index.vue","webpack:///D:/Documents/HBuilderProjects/oa-app/pages/index/index.vue?308f","webpack:///D:/Documents/HBuilderProjects/oa-app/pages/index/index.vue?8612"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,4F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,uLAEN;AACL,GAAG;AACH;AACA,WAAW,6LAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9BA;AAAA;AAAA;AAAA;AAA+lB,CAAgB,ynBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoLnnB;AACA,uD;AACA;AACA,sDADA;AAEA,MAFA,kBAEA;AACA;AACA,mBADA;AAEA,mBAFA;AAGA,kBAHA;AAIA,kBAJA;AAKA,6DALA;AAMA,cANA;;AAQA,UARA,EAQA;AACA,yEATA,EASA;AACA,iBAVA,EAUA;AACA,iBAXA,EAWA;AACA,6DAZA,EAYA;AACA,6DAbA,EAaA;AACA,iBAdA,EAcA;AACA,cAfA,EAeA;AACA,kBAhBA,EAgBA;AACA,mBAjBA,EAiBA;AACA,yDAlBA,EAkBA;AACA,uDAnBA;AAoBA,oBApBA,EAoBA;AACA,qBArBA,EAqBA;AACA,kBAtBA;AAuBA,mBAvBA,EAuBA;AACA,kBAxBA;AAyBA;AACA,gBA1BA;AA2BA,iBA3BA;AA4BA,yGA5BA,EA4BA;AACA;AACA;AACA,2JAFA,CA7BA;;AAiCA;AACA;AACA,+FAFA,CAjCA;;;AAsCA,GAzCA;AA0CA;AACA,QA3CA,kBA2CA,OA3CA,EA2CA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA,GApFA;AAqFA;AACA,eADA,uBACA,IADA,EACA;AACA;AACA,KAHA;AAIA;AACA,UALA,oBAKA;AACA;AACA,KAPA;AAQA;AACA,UATA,oBASA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBADA;AAEA,eAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAjBA;;AAmBA,KAxCA;AAyCA;AACA,WA1CA,qBA0CA;AACA;AACA;AACA;AACA,gBADA;AAEA;AACA,6BADA,EAFA;;AAKA,eALA,mBAKA,GALA,EAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WA/BA,MA+BA;AACA;AACA;AACA,2BADA;AAEA,0BAFA;AAGA,gCAHA;AAIA,+BAJA;AAKA;AACA;AACA,eAPA;;AASA;;AAEA,SAnDA;;AAqDA;AACA,KAnGA;;AAqGA;AACA,cAtGA,wBAsGA;AACA;AACA;AACA,gBADA;AAEA;AACA,6BADA,EAFA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SA5BA;AA6BA;AACA;AACA,yBADA;AAEA,oCAFA;AAGA,8BAHA;AAIA,6BAJA;AAKA;AACA;AACA,aAPA;;AASA,SAvCA;;AAyCA,KAjJA;AAkJA;AACA,cAnJA,wBAmJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3JA;AA4JA;AACA;AACA;AACA,KA/JA;AAgKA;AACA,SAjKA,mBAiKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,sCAFA;AAGA;AACA;AACA;AACA;AACA;AACA,aAJA,MAIA;AACA;AACA;AACA,WAXA;;AAaA,OAdA,MAcA;AACA;AACA,2BADA;AAEA,2BAFA;AAGA;AACA;AACA,WALA;;;AAQA;;;AAGA,KAhMA;AAiMA;AACA,UAlMA,kBAkMA,IAlMA,EAkMA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA,KA7MA;AA8MA;AACA,WA/MA,qBA+MA;AACA;AACA;AACA;AACA,OAFA,EAEA,GAFA;AAGA,KApNA;AAqNA;AACA,eAtNA,yBAsNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA,EACA;AACA,eAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SApBA;AAqBA,YArBA,gBAqBA,GArBA,EAqBA;AACA;AACA;AACA;AACA,SAzBA;;AA2BA,KA3PA;AA4PA;AACA,aA7PA,uBA6PA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEADA;AAEA,wBAFA;AAGA;AACA,kCADA;AAEA,kCAFA;AAGA,wCAHA;AAIA,kCAJA;AAKA,4CALA;AAMA,0CANA;AAOA,4BAPA;AAQA,0BARA;AASA,8BATA;AAUA,4BAVA;AAWA,4BAXA;AAYA,0BAZA;AAaA,kBAbA;AAcA,sBAdA;AAeA,uBAfA,EAHA;;AAoBA;AACA,+DADA,EApBA;;AAuBA;AACA;AACA;AACA;AACA,+BADA;AAEA,kCAFA;AAGA,6BAHA;AAIA,sBAJA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAdA,MAcA;AACA;AACA,6BADA;AAEA,kCAFA;AAGA,6BAHA;AAIA,sBAJA;;AAMA;AACA;AACA;AACA;AACA;AACA;;AAEA,WArDA;AAsDA;AACA;AACA,6BADA;AAEA,gCAFA;AAGA,2BAHA;AAIA,oBAJA;;AAMA;AACA;AACA;AACA;AACA;AACA,WAlEA;;AAoEA,OArEA,MAqEA;AACA;AACA,qEADA;AAEA,wBAFA;AAGA;AACA,kCADA;AAEA,kCAFA;AAGA,wCAHA;AAIA,kCAJA;AAKA,4CALA;AAMA,0CANA;AAOA,4BAPA;AAQA,0BARA;AASA,8BATA;AAUA,4BAVA;AAWA,4BAXA;AAYA,0BAZA;AAaA,kBAbA;AAcA,uBAdA;AAeA,sBAfA,EAHA;;AAoBA;AACA,+DADA,EApBA;;AAuBA;AACA;AACA;AACA;AACA,+BADA;AAEA,kCAFA;AAGA,6BAHA;AAIA,sBAJA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAdA,MAcA;AACA;AACA,6BADA;AAEA,kCAFA;AAGA,6BAHA;AAIA,sBAJA;;AAMA;AACA;AACA;AACA;AACA;;AAEA,WApDA;AAqDA;AACA;AACA,6BADA;AAEA,gCAFA;AAGA,2BAHA;AAIA,oBAJA;;AAMA;AACA;AACA;AACA;AACA,WAhEA;;AAkEA;AACA;;AAEA,KAlaA;AAmaA;AACA,gBApaA,0BAoaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAPA;;AASA,KA/aA,EArFA,E;;;;;;;;;;;;;ACtLA;AAAA;AAAA;AAAA;AAAi3B,CAAgB,k3BAAG,EAAC,C;;;;;;;;;;;ACAr4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=57280228&\"","var components = {\n  uniIcon: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-icon/uni-icon\" */ \"@/components/uni-icon/uni-icon.vue\"\n    )\n  },\n  uniPopup: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.amSign.time.substring(10, 16)\n  var g1 = _vm.pmSign.time.substring(10, 16)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<view class=\"page-body\">\r\n\t\t\t<view class=\"sign-title\">\r\n\t\t\t\t<view class=\"sign-title-l\">\r\n\t\t\t\t\t<view class=\"portrait\" >\r\n\t\t\t\t\t\t{{name}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"text\">\r\n\r\n\t\t\t\t\t\t<view class=\"gz\" @click=\"goRule\" style=\"text-align: center;padding: 30upx 0;\">\r\n\t\t\t\t\t\t\t<text class=\"t1\">考勤组:公司考勤</text>\r\n\t\t\t\t\t\t\t<text>查看规则</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"sign-title-r\">\r\n\t\t\t\t\t<view class=\"date\">\r\n\t\t\t\t\t\t<picker mode=\"date\" :value=\"date\"  @change=\"bindDateChange\">\r\n\t\t\t\t\t\t\t<view class=\"uni-input\">{{date}} <uni-icon type=\"arrowdown\"></uni-icon></view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<text @click=\"reset\">重置</text>\r\n\t\t\t<view style=\"text-align: center;padding: 20upx 0;\">当前位置: <text @click=\"openLocation\">{{address}}</text></view>\r\n\t\t\t<view class=\"uni-timeline\">\r\n\t\t\t\t<view class=\"uni-timeline-item uni-timeline-first-item\">\r\n\t\t\t\t\t<view class=\"uni-timeline-item-divider\" :style=\"{ background : (!isAm ? '#1AAD19' : '#bbb')}\"></view>\r\n\t\t\t\t\t<view class=\"uni-timeline-item-content\">\r\n\t\t\t\t\t\t<view >\r\n\t\t\t\t\t\t\t<view class=\"uni-timeline-item-content-t1\">上班时间{{Timer[0].time}}</view>\r\n\t\t\t\t\t\t\t<view class=\"desc-pad\" v-if=\"isAm\">\r\n\t\t\t\t\t\t\t\t<view v-if=\"amSign.time === undefined\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"time uni-timeline-item-content-t\">\r\n\t\t\t\t\t\t\t\t\t\t缺卡\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view v-else>\r\n\t\t\t\t\t\t\t\t\t<view class=\"time uni-timeline-item-content-t\">\r\n\t\t\t\t\t\t\t\t\t\t打卡时间 {{(amSign.time).substring(10,16)}}\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"iswq\" v-if=\"amSign.mode == '外勤打卡'\">外勤</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view> <uni-icon type=\"location-filled\"/> {{amSign.address}}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"bz last\" @click=\"showBz('amSign')\">\r\n\t\t\t\t\t\t\t\t\t\t备注 <uni-icon :style=\"{color:'rgb(0, 122, 255)'}\"  type=\"forward\"></uni-icon>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view v-else class=\"content-show\">\r\n\t\t\t\t\t\t\t\t<view v-if=\"isTime === true\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"module CGreen\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"text\">无法打卡</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"time\">{{time}}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"colorBlack\" style=\"text-align: center;\" v-if=\"isTime\">\r\n\t\t\t\t\t\t\t\t\t\t未到规定打卡时间\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view v-else>\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"is === true\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"module CBlue\" @click=\"clickSign\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">上班打卡</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"time\">{{time}}</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"colorGreen\" style=\"text-align: center;\" v-if=\"is\">\r\n\t\t\t\t\t\t\t\t\t\t\t已在考勤范围内 <text class=\"relocation\" @click=\"relocation\">添加打卡信息</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-else-if=\"is === false\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"module CGreen\"  @click=\"clickSign\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">外勤打卡</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"time\">{{time}}</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"colorRed\" style=\"text-align: center;\" v-if=\"!is\">\r\n\t\t\t\t\t\t\t\t\t\t\t不在考勤范围内\t<text class=\"relocation\" @click=\"relocation\">添加打卡信息</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-else-if=\"is === null\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"module CAsh\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">请检查位置信息</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"time\">{{time}}</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"uni-timeline-item uni-timeline-last-item\">\r\n\t\t\t\t\t<view class=\"uni-timeline-item-divider\" :style=\"{ background : (isAm ? '#1AAD19' : '#bbb')}\"></view>\r\n\t\t\t\t\t<view class=\"uni-timeline-item-content\">\r\n\t\t\t\t\t\t<view >\r\n\t\t\t\t\t\t\t<view class=\"uni-timeline-item-content-t1\">下班时间{{Timer[1].time}}</view>\r\n\t\t\t\t\t\t\t<view v-if=\"isAm\" class=\"desc-pad\">\r\n\t\t\t\t\t\t\t\t<view class=\"desc-pad\" v-if=\"isPm\">\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"pmSign.time === undefined\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"time uni-timeline-item-content-t\">\r\n\t\t\t\t\t\t\t\t\t\t\t缺卡\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-else>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"time uni-timeline-item-content-t\">\r\n\t\t\t\t\t\t\t\t\t\t\t打卡时间:{{(pmSign.time).substring(10,16)}}\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"iswq\" v-if=\"pmSign.mode == '外勤打卡'\">外勤</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view><uni-icon type=\"location-filled\"/>{{pmSign.address}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"bz last\" @click=\"showBz('pmSign')\">\r\n\t\t\t\t\t\t\t\t\t\t\t备注 <uni-icon :style=\"{color:'rgb(0, 122, 255)'}\" type=\"forward\" />\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view v-else class=\"content-show\">\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"is === true\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"module CBlue\" @click=\"clickSign\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">下班打卡</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"time\">{{time}}</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"colorGreen\" style=\"text-align: center;\" v-if=\"is\">\r\n\t\t\t\t\t\t\t\t\t\t\t已在考勤范围内 <text class=\"relocation\" @click=\"relocation\">添加打卡信息</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-else-if=\"is === false\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"module CGreen\"  @click=\"clickSign\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">外勤打卡</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"time\">{{time}}</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"colorRed\" style=\"text-align: center;\" v-if=\"!is\">\r\n\t\t\t\t\t\t\t\t\t\t\t不再考勤范围内 <text class=\"relocation\" @click=\"relocation\">添加打卡信息</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-else-if=\"is === null\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"module CGreen\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">请检查位置信息</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"time\">{{time}}</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- <view v-if=\"false\">\r\n\t\t\t\t<uni-collapse >\r\n\t\t\t\t\t<uni-collapse-item title=\"全部打卡信息\">\r\n\t\t\t\t\t\t<uni-list>\r\n\t\t\t\t\t\t\t<view  class=\"uni-list-cell-left\">\r\n\t\t\t\t\t\t\t\t<view v-for=\"(item,index) in allSign\" :key=\"index\" style=\"border-bottom: 1px dashed #007AFF;\">\r\n\t\t\t\t\t\t\t\t\t<view>{{item.mode}}</view>\r\n\t\t\t\t\t\t\t\t\t<view>{{item.address}}</view>\r\n\t\t\t\t\t\t\t\t\t<view>{{item.time}}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</uni-list>\r\n\t\t\t\t\t</uni-collapse-item>\r\n\t\t\t\t</uni-collapse>\r\n\t\t\t</view> -->\r\n        </view>\r\n\t\t<!-- 备注 -->\r\n\t\t<uni-popup :show=\"type === 'middle-list'\" position=\"middle\" mode=\"fixed\" @hidePopup=\"togglePopup('')\">\r\n\t\t\t<view class=\"title\" style=\"padding: 20upx 0;font-weight: bold;width: 100%;text-align: center;border-bottom: 1px solid #666;\">打卡备注</view>\r\n\t\t\t<view class=\"content\" style=\"padding: 20upx 10upx;width: 100%;\">\r\n\t\t\t\t<text class=\"text\">打卡时间:</text>\r\n\t\t\t\t<text>{{bzText.time}}</text>\r\n\t\t\t\t<view class=\"text\">打卡地点:</view>\r\n\t\t\t\t<view>{{bzText.address}}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"content\" style=\"padding: 20upx 10upx;width: 100%;\">\r\n\t\t\t\t<view>{{bzText.remarks}}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bottom\" style=\"padding: 20upx 10upx;color: cadetblue;width: 100%;text-align: center;border-top: 1px solid #666;\" @click=\"togglePopup('')\">关闭</view>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport uniPopup from '@/components/uni-popup/uni-popup.vue'\r\n\timport uniIcon from \"@/components/uni-icon/uni-icon.vue\"\r\n\timport {formateDate,pointInsideCircle ,isSameDay,countRadius} from \"@/common/util.js\"\t\r\n\timport {handleSignClick,setSignInfo,addSignInfo,getSignInfo,delSignInfo,getInfo , key ,removeSignInfo} from \"./index.js\"\r\n\texport default {\r\n\t\tcomponents: {uniIcon,uniPopup},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tgroupId:null,\r\n\t\t\t\tclassId:null,\r\n\t\t\t\tuserId:null,\r\n\t\t\t\tname:\"我的名字\",\r\n\t\t\t\tbzText:{time:\"\",address:\"\",img:\"\",remarks:\"\"},\r\n\t\t\t\ttype:\"\",\r\n\t\t\t\t\r\n\t\t\t\tr : 0,\t\t\t\t\t\t\t\t\t//半径\r\n\t\t\t\tTimer:[{time:\"09:00\",num:null},{time:\"18:00\",num:null}],\t//上下班时间\r\n\t\t\t\tisAm:false,\t\t\t\t\t\t\t\t//上班是否打卡\r\n\t\t\t\tisPm:false,\t\t\t\t\t\t\t\t//下班是否打卡\r\n\t\t\t\tamSign:{time:\"\",address:\"\",remarks:\"\",img:\"\"},\t\t\t//上午打卡信息\r\n\t\t\t\tpmSign:{time:\"\",address:\"\",remarks:\"\",img:\"\"},\t\t\t//下午打卡信息\r\n\t\t\t\tclickNum:0,\t\t\t\t\t\t\t\t//点击重新获取位置信息次数\r\n\t\t\t\tis:null,\t\t\t\t\t\t\t\t//是否属于正常打卡范围（外勤打卡）\r\n\t\t\t\tisTime:null,\t\t\t\t\t\t\t//是否属于正常打卡时间\r\n\t\t\t\tisSign:false,\t\t\t\t\t\t\t//是否打卡\r\n\t\t\t\ttime:formateDate(new Date(),'h:min:s'),\t//当前时分秒\r\n\t\t\t\tdate:formateDate(new Date(),'Y-M-D'),\r\n\t\t\t\tlatitude: null,\t\t\t\t\t\t\t//当前经度\r\n\t\t\t\tlongitude: null,\t\t\t\t\t\t\t//当前维度\r\n\t\t\t\tradius:null,\r\n\t\t\t\taddress:null,\t\t\t\t\t\t//\r\n\t\t\t\twqInfo:null,\r\n\t\t\t\t// allSign:[],\t\t\t\t\t\t\t\t//所有打卡信息\r\n\t\t\t\timgURL:[],\r\n\t\t\t\tremarks:\"\",\r\n\t\t\t\tsignInfo:{mode:\"\", latitude:\"\",longitude:\"\",address:\"\",time:\"\",remarks:\"\",upload:\"\"},\t//打卡信息 （模式，经纬度，地址，时间）\r\n\t\t\t\tcovers: [\r\n\t\t\t\t\t// 公司点信息\r\n\t\t\t\t\t{id:0,callout:{content:null,color:\"red\",display:\"ALWAYS\",},latitude:null,longitude:null,iconPath: '../../../static/img/location.png'},\r\n\t\t\t\t],\r\n\t\t\t\tcircles:[\r\n\t\t\t\t\t// 公司圆信息(latitude:22.626287,longitude:114.078199 );\r\n\t\t\t\t\t{latitude:null,longitude:null ,radius:null,strokeWidth:1,fillColor:\"#7fff0099\"},\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 初始化\r\n\t\tonLoad(options) {\r\n\t\t\tthis.name = options.userName;\r\n\t\t\tthis.userId = options.userId;\r\n\t\t\tthis.imgURL = options.imgURL;\r\n\t\t\tthis.remarks = options.remarks;\r\n\t\t\t// console.log(\"imgURL:\" + this.imgURL[0]);\r\n\t\t\t/* var sign = getSignInfo();\r\n\t\t\tif(sign != undefined){ \r\n\t\t\t\tvar signA = sign.main;\r\n\t\t\t\t// this.allSign = signA\r\n\t\t\t\tif(signA.length == 1){\r\n\t\t\t\t\tif(isSameDay(signA[0].nowT)){\r\n\t\t\t\t\t\tthis.isSign = true;\r\n\t\t\t\t\t\tthis.isAm = true;\r\n\t\t\t\t\t\t// this.allSign = signA\r\n\t\t\t\t\t\tthis.amSign = signA[0];\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// 理想状态 认为这是 上一天 的 下班信息\r\n\t\t\t\t\t\tif(signA[0]){\r\n\t\t\t\t\t\t\tif(isSameDay(signA[0].nowT)){\r\n\t\t\t\t\t\t\t\tthis.isSign = true;\r\n\t\t\t\t\t\t\t\tthis.isPm = true;\r\n\t\t\t\t\t\t\t\t// this.allSign = signA;\r\n\t\t\t\t\t\t\t\tthis.pmSign = signA[0];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// 理想状态 认为这是 上一天 的 上班信息\r\n\t\t\t\t\t\tif(signA[1]){\r\n\t\t\t\t\t\t\tif(isSameDay(signA[1].nowT)){\r\n\t\t\t\t\t\t\t\tthis.isSign = true;\r\n\t\t\t\t\t\t\t\tthis.isAm = true;\r\n\t\t\t\t\t\t\t\t// this.allSign = signA\r\n\t\t\t\t\t\t\t\tthis.amSign = signA[1];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} */\r\n\t\t\tthis.getData();\r\n\t\t\tthis.getLocation();\r\n\t\t\tthis.getTime();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\ttogglePopup(type) {\r\n\t\t\t\tthis.type = type;\r\n\t\t\t},\r\n\t\t\t// 查看规则\r\n\t\t\tgoRule(){\r\n\t\t\t\tuni.navigateTo({url:\"/pages/rule/rule?name=\"+this.name})\r\n\t\t\t},\r\n\t\t\t// 腾讯位置服务\r\n\t\t\tgetAdd(){\r\n\t\t\t\t/* if(this.isAm && this.isPm){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} */\r\n\t\t\t\tif(this.is === true){\r\n\t\t\t\t\tlet address = this.covers[0].callout.content;\r\n\t\t\t\t\tthis.address = address;\r\n\t\t\t\t\tthis.signInfo.address = address;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar url = `https://apis.map.qq.com/ws/geocoder/v1/?location=${that.latitude},${that.longitude}&key=${key}`;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tsuccess(res){\r\n\t\t\t\t\t\tvar data = res.data;\r\n\t\t\t\t\t\tif(data.status != 0){\r\n\t\t\t\t\t\t\tuni.showToast({title:data.message,icon:\"none\",position:'center'})\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(that.is === null){\r\n\t\t\t\t\t\t\tthat.address = \"请检查位置信息！\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(that.is === false){\r\n\t\t\t\t\t\t\tlet address = res.data.result.address + res.data.result.formatted_addresses.recommend\r\n\t\t\t\t\t\t\tthat.address = address;\r\n\t\t\t\t\t\t\tthat.signInfo.address = address;\r\n\t\t\t\t\t\t\tconsole.log(\"腾讯位置定位: \"+address);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 初始化数据  （公司的经纬度 公司名称 打卡范围 打卡时间）\r\n\t\t\tgetData(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar url = `http://192.168.10.25:2003/webApi/attendance/getAttendanceGroupAndClass`;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t    userId: this.userId\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res){\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\tif(res.data.code == 0){\r\n\t\t\t\t\t\t\tlet data = res.data.data;\r\n\t\t\t\t\t\t\tthat.covers[0].callout.content = data.address;\r\n\t\t\t\t\t\t\tthat.covers[0].latitude = that.circles[0].latitude = data.latitude;\r\n\t\t\t\t\t\t\tthat.covers[0].longitude = that.circles[0].longitude = data.longitude;\r\n\t\t\t\t\t\t\tthat.r = that.circles[0].radius = data.scope;\r\n\t\t\t\t\t\t\tthat.Timer[0].time = data.work_time;\r\n\t\t\t\t\t\t\tthat.Timer[1].time = data.closing_time;\r\n\t\t\t\t\t\t\tthat.groupId = data.groupId;\r\n\t\t\t\t\t\t\tthat.classId = data.classId;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet amNum = that.Timer[0].num = Number.parseInt(data.work_time.split(\":\")[0]);\r\n\t\t\t\t\t\t\tlet pmNum = that.Timer[1].num = Number.parseInt(data.closing_time.split(\":\")[0]);\r\n\t\t\t\t\t\t\tlet now = new Date();\r\n\t\t\t\t\t\t\tlet nowNum= now.getHours();\r\n\t\t\t\t\t\t\tlet num = nowNum - amNum;\r\n\t\t\t\t\t\t\tif(num > 2){\r\n\t\t\t\t\t\t\t\t//如果当前时间比该员工所属考勤组上班打卡时间晚两个小时，则默认上班卡已经完成（正常打上班卡或缺卡都一样）\r\n\t\t\t\t\t\t\t\tconsole.log();\r\n\t\t\t\t\t\t\t\tif(that.amSign.time == null || that.amSign.time == \"\"){\r\n\t\t\t\t\t\t\t\t\tthat.amSign.remarks = \"缺卡\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthat.isAm = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlet nowTime = new Date();\r\n\t\t\t\t\t\t\tlet standardMinute = Number.parseInt(data.work_time.split(\":\")[0])*60 + Number.parseInt(data.work_time.split(\":\")[1])\r\n\t\t\t\t\t\t\tlet nowMinute = Number.parseInt(nowTime.getHours()) *60 + Number.parseInt(nowTime.getMinutes());\r\n\t\t\t\t\t\t\tlet diffVal = standardMinute - nowMinute;\r\n\t\t\t\t\t\t\tif(diffVal >= 480){\r\n\t\t\t\t\t\t\t\tthat.isTime = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tlet msg = res.data.msg;\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '系统提示',\r\n\t\t\t\t\t\t\t\tcontent: msg,\r\n\t\t\t\t\t\t\t\tposition:'center',\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\tsuccess: function(){\r\n\t\t\t\t\t\t\t\t\tuni.reLaunch({url:\"/pages/login/login\"})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\t\r\n\t\t\t\tthis.getClockIn();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//获取员工当日打卡信息\r\n\t\t\tgetClockIn(){\r\n\t\t\t\tvar url = `http://192.168.10.25:2003/webApi/clockIn/getClockIn`;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t    userId: this.userId\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\tif(res.data.code == 0){\r\n\t\t\t\t\t\t\tlet data = res.data.data;\r\n\t\t\t\t\t\t\tif(data.length != null || data.length != 0){\r\n\t\t\t\t\t\t\t\tfor(var i=0;i<data.length;i++){\r\n\t\t\t\t\t\t\t\t\tlet type = data[i].check_type;\r\n\t\t\t\t\t\t\t\t\tif(type == \"OnDuty\"){\r\n\t\t\t\t\t\t\t\t\t\t//上班卡信息\r\n\t\t\t\t\t\t\t\t\t\tthis.amSign.address = data[i].user_address;\r\n\t\t\t\t\t\t\t\t\t\tthis.amSign.time = data[i].user_check_time;\r\n\t\t\t\t\t\t\t\t\t\tthis.isAm = true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif(type == \"OffDuty\"){\r\n\t\t\t\t\t\t\t\t\t\t//下班卡信息\r\n\t\t\t\t\t\t\t\t\t\tthis.pmSign.address = data[i].user_address;\r\n\t\t\t\t\t\t\t\t\t\tthis.pmSign.time = data[i].user_check_time;\r\n\t\t\t\t\t\t\t\t\t\tthis.isAm = true;\r\n\t\t\t\t\t\t\t\t\t\tthis.isPm = true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t    uni.showModal({\r\n\t\t\t\t\t    \ttitle: '系统提示',\r\n\t\t\t\t\t    \tcontent: \"系统错误,请重新联系管理员\",\r\n\t\t\t\t\t    \tposition:'center',\r\n\t\t\t\t\t    \tshowCancel: false,\r\n\t\t\t\t\t    \tsuccess: function(){\r\n\t\t\t\t\t    \t\tuni.reLaunch({url:\"/pages/login/login\"})\r\n\t\t\t\t\t    \t}\r\n\t\t\t\t\t    });\r\n\t\t\t\t\t}\r\n\t\t\t\t})\t\t\t\r\n\t\t\t},\r\n\t\t\t// 重新定位\r\n\t\t\trelocation(){\r\n\t\t\t\tlet address = this.covers[0].callout.content;\r\n\t\t\t\tlet radius = this.circles[0].radius;\r\n\t\t\t\tlet latitude = this.circles[0].latitude;\r\n\t\t\t\tlet longitude = this.circles[0].longitude;\r\n\t\t\t\tlet userId = this.userId;\r\n\t\t\t\tlet name = this.name;\r\n\t\t\t\tuni.navigateTo({url:\"/pages/sign/sign?address=\"+address+\"&radius=\"+radius+\"&latitude=\"+latitude+\"&longitude=\"+longitude+\"&userId=\"+userId+\"&name=\"+name,})\r\n\t\t\t},\r\n\t\t\t// 选择打卡日期\r\n\t\t\tbindDateChange: function(e) {\r\n\t\t\t\tthis.date = e.target.value\r\n\t\t\t},\t\r\n\t\t\t// 重置打卡\r\n\t\t\treset(){\r\n\t\t\t\t//不准重置上班打卡信息\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tlet isAm = this.isAm;\r\n\t\t\t\tlet isPm = this.isPm;\r\n\t\t\t\tif (isAm == true && isPm == true){\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle:\"重置本地打卡信息\",\r\n\t\t\t\t\t\tcontent:\"重置下班打卡信息,可以更新打卡信息\",\r\n\t\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\tthat.isSign = false;\r\n\t\t\t\t\t\t\t\tthat.isPm = false;\r\n\t\t\t\t\t\t\t\t// that.allSign.splice(1,1);\r\n\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle:\"重置本地打卡信息\",\r\n\t\t\t\t\t\tcontent:\"请直接打卡！\",\r\n\t\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 显示备注\r\n\t\t\tshowBz(type){\r\n\t\t\t\tthis.type = 'middle-list';\r\n\t\t\t\tif(type == 'amSign'){\r\n\t\t\t\t\tthis.bzText.time = this.amSign.time;\r\n\t\t\t\t\tthis.bzText.address = this.amSign.address;\r\n\t\t\t\t\tthis.bzText.remarks = this.amSign.remarks;\r\n\t\t\t\t}else if(type == 'pmSign'){\r\n\t\t\t\t\tthis.bzText.time = this.pmSign.time;\r\n\t\t\t\t\tthis.bzText.address = this.pmSign.address;\r\n\t\t\t\t\tthis.bzText.remarks = this.pmSign.remarks;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 实时时间\r\n\t\t\tgetTime(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tsetInterval(function(){\r\n\t\t\t\t\tthat.time = formateDate(new Date(),'h:min:s')\r\n\t\t\t\t},100)\r\n\t\t\t},\r\n\t\t\t// 获取当前位置\r\n\t\t\tgetLocation(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(this.clickNum !== 0){\r\n\t\t\t\t\tuni.showLoading({title:\"获取中...\",mask:true})\r\n\t\t\t\t}\r\n\t\t\t\tif(this.clickNum >= 3){\r\n\t\t\t\t\tuni.showToast({title:\"请稍后尝试！\",icon:\"none\",mask:true,position:'center'});\r\n\t\t\t\t\treturn ;\r\n\t\t\t\t}\r\n\t\t\t\tthis.clickNum++;\r\n\t\t\t\tuni.getLocation({\r\n\t\t\t\t\ttype: 'gcj02', //返回可以用于uni.openLocation的经纬度\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tthat.latitude = res.latitude;\r\n\t\t\t\t\t\tthat.longitude = res.longitude;\r\n\r\n\t\t\t\t\t\tlet circlesLat = that.circles[0].latitude;\r\n\t\t\t\t\t\tlet circlesLon = that.circles[0].longitude;\r\n\t\t\t\t\t\tlet circlesRad = that.circles[0].radius;\r\n\t\t\t\t\t\t// console.log(res.latitude,\"---\",res.longitude) latitude:114.078199,longitude:22.626287 ,radius:80000\r\n\t\t\t\t\t\tthat.covers[1] = {id:1,latitude:res.latitude,longitude : res.longitude,iconPath: '../../static/location.png'}\r\n\t\t\t\t\t\tvar s = countRadius([that.latitude,that.longitude],[circlesLat,circlesLon],circlesRad);\r\n\t\t\t\t\t\tthat.is = s;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthat.signInfo.latitude = res.latitude;\r\n\t\t\t\t\t\tthat.signInfo.longitude = res.longitude;\r\n\t\t\t\t\t\tthat.signInfo.mode = s ? \"正常打卡\" : \"外勤打卡\";\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthat.getAdd()\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err){\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tthat.address = \"请检查位置信息！\"\r\n\t\t\t\t\t\tuni.showToast({title:\"请检查位置信息状态！\",icon:\"none\", mask:true,duration:3000})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 点击打卡\r\n\t\t\tclickSign(){\r\n\t\t\t\tvar isTrue = this.is;\r\n\t\t\t\tif(isTrue === null){\r\n\t\t\t\t\tuni.showToast({title:\"请检查位置信息状态！\",icon:\"none\", mask:true,duration:3000,position:'center'})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tuni.showLoading({title:\"打卡记录中...\",mask:true});\r\n\t\t\t\tthis.signInfo.time = formateDate(new Date(),'Y-M-D h:min:s');\r\n\t\t\t\tvar a = getSignInfo();\r\n\t\t\t\tif(a != undefined){\r\n\t\t\t\t\taddSignInfo(getInfo(this.signInfo),a)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetSignInfo(getInfo(this.signInfo))\r\n\t\t\t\t}\r\n\t\t\t\tvar clockInData = getInfo(this.signInfo);\r\n\t\t\t\t// this.allSign = getSignInfo().main;\r\n\t\t\t\tconsole.log(clockInData)\r\n\t\t\t\t\r\n\t\t\t\tvar groupId = this.groupId;\r\n\t\t\t\tvar classId = this.classId;\r\n\t\t\t\tvar userId = this.userId;\r\n\t\t\t\tvar userName = this.name;\r\n\t\t\t\tvar imgURL = this.imgURL;\r\n\t\t\t\tvar remarks = this.remarks;\r\n\t\t\t\tvar is = this.is;\r\n\t\t\t\tif(this.isAm === false && this.isPm === false){//上班卡\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t    url: 'http://192.168.10.25:2003/webApi/clockIn/saveClockIn',\r\n\t\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\t    data: {\r\n\t\t\t\t\t        mode: clockInData.mode,\r\n\t\t\t\t\t        nowT: clockInData.nowT,\r\n\t\t\t\t\t        address: clockInData.address,\r\n\t\t\t\t\t        time: clockInData.time,\r\n\t\t\t\t\t\t\tlongitude: clockInData.longitude,\r\n\t\t\t\t\t        latitude: clockInData.latitude,\r\n\t\t\t\t\t        remarks: remarks,\r\n\t\t\t\t\t        userId: userId,\r\n\t\t\t\t\t\t\tuserName: userName,\r\n\t\t\t\t\t\t\tgroupId: groupId,\r\n\t\t\t\t\t\t\tclassId: classId,\r\n\t\t\t\t\t\t\timgURL:imgURL,\r\n\t\t\t\t\t\t\tis:is,\r\n\t\t\t\t\t\t\tisAm: true,\r\n\t\t\t\t\t\t\tisPm: false\r\n\t\t\t\t\t    },\r\n\t\t\t\t\t    header: {\r\n\t\t\t\t\t    \t'content-type': 'application/x-www-form-urlencoded',\r\n\t\t\t\t\t    },\r\n\t\t\t\t\t    success: (res) => {\r\n\t\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\t\tif(res.data.code == 0){\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t\t\t\t\t\ttitle: '打卡成功',\r\n\t\t\t\t\t\t\t\t\tposition:'center'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tthis.isAm = true;\r\n\t\t\t\t\t\t\t\tthis.isSign = true;\r\n\t\t\t\t\t\t\t\tthis.amSign = clockInData;\r\n\t\t\t\t\t\t\t\tthis.imgURL = [];\r\n\t\t\t\t\t\t\t\tthis.remarks = \"\";\r\n\t\t\t\t\t\t\t\t// this.amSign = this.allSign[0];\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t\t\t\t\t\ttitle: '打卡异常',\r\n\t\t\t\t\t\t\t\t\tposition:'center'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tremoveSignInfo('signInfo');\r\n\t\t\t\t\t\t\t\tthis.isSign = false;\r\n\t\t\t\t\t\t\t\tthis.isAm = false;\r\n\t\t\t\t\t\t\t\t// this.allSign[0] = [];\r\n\t\t\t\t\t\t\t\tthis.amSign = [];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t        \r\n\t\t\t\t\t    },\r\n\t\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\t    uni.showToast({\r\n\t\t\t\t\t\t    \ticon: 'success',\r\n\t\t\t\t\t\t    \tposition: 'bottom',\r\n\t\t\t\t\t\t    \ttitle: '系统错误',\r\n\t\t\t\t\t\t\t\tposition:'center'\r\n\t\t\t\t\t\t    });\r\n\t\t\t\t\t\t\tremoveSignInfo('signInfo');\r\n\t\t\t\t\t\t\tthis.isSign = false;\r\n\t\t\t\t\t\t\tthis.isAm = false;\r\n\t\t\t\t\t\t\t// this.allSign[0] = [];\r\n\t\t\t\t\t\t\tthis.amSign = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{//下班卡\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t    url: 'http://192.168.10.25:2003/webApi/clockIn/saveClockIn',\r\n\t\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\t    data: {\r\n\t\t\t\t\t        mode: clockInData.mode,\r\n\t\t\t\t\t        nowT: clockInData.nowT,\r\n\t\t\t\t\t        address: clockInData.address,\r\n\t\t\t\t\t        time: clockInData.time,\r\n\t\t\t\t\t\t\tlongitude: clockInData.longitude,\r\n\t\t\t\t\t        latitude: clockInData.latitude,\r\n\t\t\t\t\t        remarks: remarks,\r\n\t\t\t\t\t        userId: userId,\r\n\t\t\t\t\t\t\tuserName: userName,\r\n\t\t\t\t\t\t\tgroupId: groupId,\r\n\t\t\t\t\t\t\tclassId: classId,\r\n\t\t\t\t\t\t\timgURL:imgURL,\r\n\t\t\t\t\t\t\tis:is,\r\n\t\t\t\t\t\t\tisAm: false,\r\n\t\t\t\t\t\t\tisPm: true\r\n\t\t\t\t\t    },\r\n\t\t\t\t\t    header: {\r\n\t\t\t\t\t    \t'content-type': 'application/x-www-form-urlencoded', \r\n\t\t\t\t\t    },\r\n\t\t\t\t\t    success: (res) => {\r\n\t\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\t\tif(res.data.code == 0){\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t\t\t\t\t\ttitle: '打卡成功',\r\n\t\t\t\t\t\t\t\t\tposition:'center'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tthis.isPm = true;\r\n\t\t\t\t\t\t\t\tthis.isSign = true;\r\n\t\t\t\t\t\t\t\tthis.pmSign = clockInData;\r\n\t\t\t\t\t\t\t\tthis.imgURL = [];\r\n\t\t\t\t\t\t\t\tthis.remarks = \"\";\r\n\t\t\t\t\t\t\t\t// this.pmSign = this.allSign[1];\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t\t\t\t\t\ttitle: '打卡异常',\r\n\t\t\t\t\t\t\t\t\tposition:'center'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tthis.isSign = false;\r\n\t\t\t\t\t\t\t\tthis.isPm = false;\r\n\t\t\t\t\t\t\t\t// this.allSign[1] = [];\r\n\t\t\t\t\t\t\t\tthis.pmSign = [];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t        \r\n\t\t\t\t\t    },\r\n\t\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\t    uni.showToast({\r\n\t\t\t\t\t\t    \ticon: 'success',\r\n\t\t\t\t\t\t    \tposition: 'bottom',\r\n\t\t\t\t\t\t    \ttitle: '系统错误',\r\n\t\t\t\t\t\t\t\tposition:'center'\r\n\t\t\t\t\t\t    });\r\n\t\t\t\t\t\t\tthis.isSign = false;\r\n\t\t\t\t\t\t\tthis.isPm = false;\r\n\t\t\t\t\t\t\t// this.allSign[1] = [];\r\n\t\t\t\t\t\t\tthis.pmSign = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(this.allSign);\r\n\t\t\t\r\n\t\t\t},\r\n\t\t\t// 选择地址\r\n\t\t\topenLocation(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.chooseLocation({\r\n\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\tthat.address = res.address;\r\n\t\t\t\t\t\tthat.signInfo.address = res.address;\r\n\t\t\t\t\t\t// 这里是有问题的 .返回的 res 中有经纬度，地址名  如果使用这个经纬度 就会存在问题，（当前位置和公司位置重合），所以不建议使用这个经纬度。\r\n\t\t\t\t\t\tvar s = countRadius([that.latitude,that.longitude],[that.circles[0].latitude,that.circles[0].longitude],that.r);\r\n\t\t\t\t\t\tthat.is = s;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.map{width: 100%; height: 260px;}\r\n\t.uni-list-cell-left {padding: 0 30upx;}\r\n\t.text-desc{display: flex;justify-content: space-between;padding:10upx 20upx}\r\n\t.colorRed{color: red;}\r\n\t.colorGreen{color: #32CD32;}\r\n\t.colorYellow{color: yellow;}\r\n\t.colorBlue{color: #007aff;}\r\n\t\r\n\t.bgBlue{background-color: #007aff;}\r\n\t.bgGreen{background-color: #32CD32;}\r\n\t.bgAsh{background-color: #C8C7CC;}\r\n\t\r\n\t.uni-timeline{padding: 30upx 20upx;}\r\n\t.uni-timeline-item-content-t{font-weight: bold;}\r\n\t.desc-pad{padding: 0 0upx}\r\n\t.desc-pad .bz{color: rgb(0, 122, 255);}\r\n\t.desc-pad .bz .icon{color:rgb(0, 122, 255)}\r\n\t.uni-timeline-last-item .uni-timeline-item-divider{background: #bbb;}\r\n\t\r\n\t.CBlue{background-color: #007aff;box-shadow: 0 5px 5px #007aff;}\r\n\t.CGreen{background-color: #32CD32;box-shadow: 0 5px 5px #32CD32;}\r\n\t.CAsh{background-color: #C8C7CC;box-shadow: 0 5px 5px #C8C7CC;}\r\n\t\r\n\t.module{overflow: hidden; margin: 20upx auto; width: 220upx;height: 220upx;border-radius: 50%;color: #fff;text-align: center;}\r\n\t.module .text{font-size: 20px;margin: 50upx auto 10upx;}\r\n\t.uni-timeline-item .uni-timeline-item-content{width: 100%;padding-right: 20upx;}\r\n\t\r\n\t.content-show{width:100%}\r\n\t\r\n\t.sign-title{display: flex;justify-content: space-between; padding: 30upx 24upx;border-bottom: 1upx solid #333;}\r\n\t.sign-title .portrait{width: 100upx;height: 100upx;line-height: 100upx;border-radius: 50%;background-color: #007AFF;color: #fff;font-size: 28upx;text-align: center;}\r\n\t.sign-title .sign-title-l{display: flex;}\r\n\t.sign-title .sign-title-l .text{margin-left: 20upx;}\r\n\t.sign-title .sign-title-l .text .name{font-size: 32upx;}\r\n\t.sign-title .sign-title-l .text  .gz{color: darkblue;display: inline-flex;}\r\n\t.sign-title .sign-title-l .text .gz text{display: inline-block;}\r\n\t.sign-title .sign-title-l .text .gz .t1{\r\n\t\toverflow: hidden; /*超出部分隐藏*/\r\n    text-overflow:ellipsis;/* 超出部分显示省略号 */\r\n    white-space: nowrap;/*规定段落中的文本不进行换行 */\r\n    width: 166upx;/*需要配合宽度来使用*/}\r\n\t.iswq{padding: 0px 12px;color: #99CC33;border: 1px solid #99CC33;width: 26px;height: 24px;border-radius: 4px;margin-left: 20upx;display: inline-block;}\r\n\t.desc-pad .last{margin-bottom:80upx;}\r\n\t.relocation{color: #0000FF;}\r\n\t.uni-popup .content .text{color:#666666;}\r\n\t\r\n</style>\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1596870462585\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}